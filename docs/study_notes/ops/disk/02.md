# Linux 基础

## 基本命令

locate命令 ：泛查询

locate  -i  passwd

-i 忽略大小写



find --help





SWAP分区



内存不足时，临时充当内存不足的解决方案：交换到SWAP分区（借助一块场所比如占用硬盘空间临时处理内存不足的情况）



SWAP与内存回收有关系，比如占用内存60%就回收。与调优有很大关系。

有数据的页面：脏页



```shell
Xshell 5 (Build 0964)
Copyright (c) 2002-2016 NetSarang Computer, Inc. All rights reserved.

Type `help' to learn how to use Xshell prompt.
[d:\~]$ 

Connecting to 192.168.72.130:22...
Connection established.
To escape to local shell, press 'Ctrl+Alt+]'.

Last login: Fri Oct 31 14:54:07 2025 from 192.168.72.1
[root@bogon ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           1.8G        690M        352M        9.7M        780M        919M
Swap:          2.0G          0B        2.0G
[root@bogon ~]# fdisk /dev/sdb
欢迎使用 fdisk (util-linux 2.23.2)。

更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。


命令(输入 m 获取帮助)：n
Partition type:
   p   primary (1 primary, 1 extended, 2 free)
   l   logical (numbered from 5)
Select (default p): l
添加逻辑分区 6
起始 扇区 (6297600-10485759，默认为 6297600)：
将使用默认值 6297600
Last 扇区, +扇区 or +size{K,M,G} (6297600-10485759，默认为 10485759)：+2G
值超出范围。
Last 扇区, +扇区 or +size{K,M,G} (6297600-10485759，默认为 10485759)：+1G
分区 6 已设置为 Linux 类型，大小设为 1 GiB

命令(输入 m 获取帮助)：w
The partition table has been altered!

Calling ioctl() to re-read partition table.

WARNING: Re-reading the partition table failed with error 16: 设备或资源忙.
The kernel still uses the old table. The new table will be used at
the next reboot or after you run partprobe(8) or kpartx(8)
正在同步磁盘。
[root@bogon ~]# partprobe
Warning: 无法以读写方式打开 /dev/sr0 (只读文件系统)。/dev/sr0 已按照只读方式打开。
[root@bogon ~]# cat /proc/partitions
major minor  #blocks  name

   8        0   20971520 sda
   8        1    1048576 sda1
   8        2   19921920 sda2
   8       16    5242880 sdb
   8       17    1048576 sdb1
   8       20          0 sdb4
   8       21    2097152 sdb5
   8       22    1048576 sdb6
  11        0    4415488 sr0
 253        0   17821696 dm-0
 253        1    2097152 dm-1
[root@bogon ~]# mkswap /dev/sdb6
正在设置交换空间版本 1，大小 = 1048572 KiB
无标签，UUID=56c4d98b-247f-4dca-9af1-30109da2e919
[root@bogon ~]# swapon /dev/sdb6
[root@bogon ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           1.8G        692M        333M        9.7M        796M        917M
Swap:          3.0G          0B        3.0G
[root@bogon ~]# vim /etc/fstab
[root@bogon ~]# cat /etc/fstab

#
# /etc/fstab
# Created by anaconda on Fri Oct 24 18:22:56 2025
#
# Accessible filesystems, by reference, are maintained under '/dev/disk'
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
/dev/mapper/centos-root /                       xfs     defaults        0 0
UUID=676ed796-023c-4200-880e-a476bb69df97 /boot                   xfs     defaults        0 0
/dev/mapper/centos-swap swap                    swap    defaults        0 0

/dev/sdb1             /hahaha     ext4             defaults        0 0

UUID=8cabbd4c-3b96-4efc-8733-426417f25623             /hahahaha     ext4             defaults        0 0

/dev/sdb6  swap swap defaults        0 0

[root@bogon ~]# mount -a
[root@bogon ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           1.8G        704M        317M        9.8M        801M        906M
Swap:          3.0G          0B        3.0G
[root@bogon ~]# blkid
/dev/sda1: UUID="676ed796-023c-4200-880e-a476bb69df97" TYPE="xfs" 
/dev/sda2: UUID="6b1pHT-CkP1-wecN-WgLT-UZt0-aBFL-hfAuNR" TYPE="LVM2_member" 
/dev/sdb1: UUID="c6b93704-22f6-4a5b-9036-b9c60fc52502" TYPE="ext4" 
/dev/sdb5: UUID="8cabbd4c-3b96-4efc-8733-426417f25623" TYPE="ext4" 
/dev/sdb6: UUID="56c4d98b-247f-4dca-9af1-30109da2e919" TYPE="swap" 
/dev/sr0: UUID="2017-09-06-10-51-00-00" LABEL="CentOS 7 x86_64" TYPE="iso9660" PTTYPE="dos" 
/dev/mapper/centos-root: UUID="051ba4cb-eff7-45ef-a4f9-05e124b5dbf5" TYPE="xfs" 
/dev/mapper/centos-swap: UUID="3d7a8449-a8c2-4397-8702-a9347273ba09" TYPE="swap" 
[root@bogon ~]# swapon -s
文件名				类型		大小	已用	权限
/dev/dm-1                              	partition	2097148	0	-1
/dev/sdb6                              	partition	1048572	0	-2
[root@bogon ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           1.8G        704M        314M        9.8M        803M        906M
Swap:          3.0G          0B        3.0G
[root@bogon ~]# swapon -s
文件名				类型		大小	已用	权限
/dev/dm-1                              	partition	2097148	0	-1
/dev/sdb6                              	partition	1048572	0	-2
[root@bogon ~]# 

```