# Nginx-关于负载均衡

在控制负载均衡的机器上的配置文件中添加 `upstream` 块 并设置负载均衡策略

[负载均衡](https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/)

 重点配置如下

```
[root@node3 ~]# cd /etc/nginx

[root@node3 nginx]# cat nginx.conf
http {
    upstream backend {
        server node1  weight=2;
        server node2  weight=7;
    }
    server {
        location  / {
            proxy_pass http://backend;
        }
    }
}
```



关于 `httpd` 安装

```
[root@node1 nginx]# yum install httpd

[root@node1 ~]# systemctl start httpd

[root@node1 ~]# vim /var/www/html/index.html

[root@node1 ~]# systemctl start firewalld
[root@node1 ~]# firewall-cmd --permanent --zone=public --add-service=http
success
[root@node1 ~]# firewall-cmd --reload
success
```

