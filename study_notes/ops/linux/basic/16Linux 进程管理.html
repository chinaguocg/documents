<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 进程管理 | Documents</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/documents/img/logo.png">
    <link rel="stylesheet" href="/documents/css/style.css">
    <meta name="description" content="开发运维技术文档">
    <meta name="keywords" content="Chinaguocg,Documents,DevOps,IT技术,文档博客,开发,运维,技术文档">
    
    <link rel="preload" href="/documents/assets/css/0.styles.b20f9c26.css" as="style"><link rel="preload" href="/documents/assets/js/app.fb883db5.js" as="script"><link rel="preload" href="/documents/assets/js/2.e8bd7cca.js" as="script"><link rel="preload" href="/documents/assets/js/1.40c64e62.js" as="script"><link rel="preload" href="/documents/assets/js/64.98cbd251.js" as="script"><link rel="prefetch" href="/documents/assets/js/10.b63d61ac.js"><link rel="prefetch" href="/documents/assets/js/11.23025be0.js"><link rel="prefetch" href="/documents/assets/js/12.9a27d63b.js"><link rel="prefetch" href="/documents/assets/js/13.e3dba2b7.js"><link rel="prefetch" href="/documents/assets/js/14.6d3d6a88.js"><link rel="prefetch" href="/documents/assets/js/15.30a4286e.js"><link rel="prefetch" href="/documents/assets/js/16.e4505b74.js"><link rel="prefetch" href="/documents/assets/js/17.255ebcfb.js"><link rel="prefetch" href="/documents/assets/js/18.a4c4f660.js"><link rel="prefetch" href="/documents/assets/js/19.2c33fa19.js"><link rel="prefetch" href="/documents/assets/js/20.fc453a90.js"><link rel="prefetch" href="/documents/assets/js/21.c52a45d9.js"><link rel="prefetch" href="/documents/assets/js/22.9b18a918.js"><link rel="prefetch" href="/documents/assets/js/23.8f24947d.js"><link rel="prefetch" href="/documents/assets/js/24.b943b232.js"><link rel="prefetch" href="/documents/assets/js/25.680bc1c4.js"><link rel="prefetch" href="/documents/assets/js/26.e3c64576.js"><link rel="prefetch" href="/documents/assets/js/27.df32cf0b.js"><link rel="prefetch" href="/documents/assets/js/28.32ebad55.js"><link rel="prefetch" href="/documents/assets/js/29.53cf73a3.js"><link rel="prefetch" href="/documents/assets/js/3.1bdb9756.js"><link rel="prefetch" href="/documents/assets/js/30.25959590.js"><link rel="prefetch" href="/documents/assets/js/31.63a77baa.js"><link rel="prefetch" href="/documents/assets/js/32.3c2bc0ff.js"><link rel="prefetch" href="/documents/assets/js/33.55b9dd1d.js"><link rel="prefetch" href="/documents/assets/js/34.72d68f93.js"><link rel="prefetch" href="/documents/assets/js/35.2f997e59.js"><link rel="prefetch" href="/documents/assets/js/36.c4dbef59.js"><link rel="prefetch" href="/documents/assets/js/37.de8e788f.js"><link rel="prefetch" href="/documents/assets/js/38.fa86566e.js"><link rel="prefetch" href="/documents/assets/js/39.ce80e044.js"><link rel="prefetch" href="/documents/assets/js/4.ce792ed0.js"><link rel="prefetch" href="/documents/assets/js/40.92c3a9f7.js"><link rel="prefetch" href="/documents/assets/js/41.9f09b338.js"><link rel="prefetch" href="/documents/assets/js/42.da4ce53b.js"><link rel="prefetch" href="/documents/assets/js/43.7630c48b.js"><link rel="prefetch" href="/documents/assets/js/44.101ff796.js"><link rel="prefetch" href="/documents/assets/js/45.cc48ac11.js"><link rel="prefetch" href="/documents/assets/js/46.ebf00827.js"><link rel="prefetch" href="/documents/assets/js/47.df6f26e6.js"><link rel="prefetch" href="/documents/assets/js/48.0d75469e.js"><link rel="prefetch" href="/documents/assets/js/49.90ac9cb8.js"><link rel="prefetch" href="/documents/assets/js/5.d956834b.js"><link rel="prefetch" href="/documents/assets/js/50.a0bed255.js"><link rel="prefetch" href="/documents/assets/js/51.4259bd8b.js"><link rel="prefetch" href="/documents/assets/js/52.252c85c7.js"><link rel="prefetch" href="/documents/assets/js/53.a9ff8c3b.js"><link rel="prefetch" href="/documents/assets/js/54.c459c6d5.js"><link rel="prefetch" href="/documents/assets/js/55.846ad4da.js"><link rel="prefetch" href="/documents/assets/js/56.e95fa2b3.js"><link rel="prefetch" href="/documents/assets/js/57.b504be7f.js"><link rel="prefetch" href="/documents/assets/js/58.f8ef198d.js"><link rel="prefetch" href="/documents/assets/js/59.2d6ebab4.js"><link rel="prefetch" href="/documents/assets/js/6.118e9bad.js"><link rel="prefetch" href="/documents/assets/js/60.df495fd1.js"><link rel="prefetch" href="/documents/assets/js/61.a70a93c1.js"><link rel="prefetch" href="/documents/assets/js/62.342024d3.js"><link rel="prefetch" href="/documents/assets/js/63.192c720b.js"><link rel="prefetch" href="/documents/assets/js/65.7553bc57.js"><link rel="prefetch" href="/documents/assets/js/66.503bab25.js"><link rel="prefetch" href="/documents/assets/js/67.41b52c62.js"><link rel="prefetch" href="/documents/assets/js/68.cbb4ad29.js"><link rel="prefetch" href="/documents/assets/js/7.a506e926.js"><link rel="prefetch" href="/documents/assets/js/vendors~docsearch.271bc088.js">
    <link rel="stylesheet" href="/documents/assets/css/0.styles.b20f9c26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documents/" class="home-link router-link-active"><!----> <span class="site-name">Documents</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documents/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/study_notes/ops/" class="nav-link router-link-active">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/documents/study_notes/dev/" class="nav-link">
  开发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源共享" class="dropdown-title"><span class="title">资源共享</span> <span class="arrow down"></span></button> <button type="button" aria-label="资源共享" class="mobile-dropdown-title"><span class="title">资源共享</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://shields.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图标徽章
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://bigjpg.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片放大
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON 表达式
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD 表格生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Boot CDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          镜像资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  清华开源软件镜像站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里开源镜像站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          网址导航
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.w3school.com.cn/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  W3School
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.runoob.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  菜鸟教程
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://www.h-ui.net/site.shtml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  IT网址导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/chinaguocg/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documents/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/study_notes/ops/" class="nav-link router-link-active">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/documents/study_notes/dev/" class="nav-link">
  开发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源共享" class="dropdown-title"><span class="title">资源共享</span> <span class="arrow down"></span></button> <button type="button" aria-label="资源共享" class="mobile-dropdown-title"><span class="title">资源共享</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://shields.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图标徽章
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://bigjpg.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片放大
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON 表达式
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD 表格生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Boot CDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          镜像资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  清华开源软件镜像站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里开源镜像站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          网址导航
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.w3school.com.cn/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  W3School
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.runoob.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  菜鸟教程
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://www.h-ui.net/site.shtml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  IT网址导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/chinaguocg/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Linux 基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documents/study_notes/ops/linux/basic/01.html" class="sidebar-link">Linux 基础</a></li><li><a href="/documents/study_notes/ops/linux/basic/02.html" class="sidebar-link">连接</a></li><li><a href="/documents/study_notes/ops/linux/basic/03.html" class="sidebar-link">防火墙</a></li><li><a href="/documents/study_notes/ops/linux/basic/04.html" class="sidebar-link">磁盘分区及免密登录测试</a></li><li><a href="/documents/study_notes/ops/linux/basic/05.html" class="sidebar-link">日志</a></li><li><a href="/documents/study_notes/ops/linux/basic/06Linux的由来.html" class="sidebar-link">Linux的由来</a></li><li><a href="/documents/study_notes/ops/linux/basic/07Linux文件管理基础.html" class="sidebar-link">Linux 文件管理基础</a></li><li><a href="/documents/study_notes/ops/linux/basic/08Linux文件权限管理.html" class="sidebar-link">Linux文件权限管理</a></li><li><a href="/documents/study_notes/ops/linux/basic/09Linux特殊权限.html" class="sidebar-link">Linux 特殊权限：SUID、SGID 和 Sticky Bit</a></li><li><a href="/documents/study_notes/ops/linux/basic/10Linux chattr.html" class="sidebar-link">Linux chattr</a></li><li><a href="/documents/study_notes/ops/linux/basic/11CentOS 软件包管理YUM.html" class="sidebar-link">CentOS 软件包管理DNF/YUM</a></li><li><a href="/documents/study_notes/ops/linux/basic/12CentOS Linux 软件包管理 RPM .html" class="sidebar-link">CentOS 软件包管理 RPM</a></li><li><a href="/documents/study_notes/ops/linux/basic/13CentOS Linux 源码安装 Nginx .html" class="sidebar-link">CentOS 源码安装 Nginx</a></li><li><a href="/documents/study_notes/ops/linux/basic/14安装openresty.html" class="sidebar-link">安装openresty</a></li><li><a href="/documents/study_notes/ops/linux/basic/15自定义YUM仓库.html" class="sidebar-link">自定义YUM仓库</a></li><li><a href="/documents/study_notes/ops/linux/basic/16Linux 进程管理.html" class="active sidebar-link">Linux 进程管理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/documents/study_notes/ops/linux/basic/17进程管理 练习.html" class="sidebar-link">Linux 基础运维实战练习题：进程管理篇</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Linux 进阶</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Disk</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux-进程管理"><a href="#linux-进程管理" class="header-anchor">#</a> Linux 进程管理</h1> <p>算法只考虑解决问题的方法，通过计算机语言诠释，就是程序，程序运行起来就是进程，就去完成特定的功能。</p> <h3 id="一、进程基本概念"><a href="#一、进程基本概念" class="header-anchor">#</a> 一、进程基本概念</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>在Linux系统中：
- 进程是程序的运行实例
- 每个进程有唯一的进程ID（PID）
- 进程有父进程（<span class="token environment constant">PPID</span>）
- 进程有运行状态（运行R、睡眠SD、停止T、僵尸Z等）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_1、进程的生命周期"><a href="#_1、进程的生命周期" class="header-anchor">#</a> 1、进程的生命周期</h4> <p><img src="/documents/img/ops/linux/basic/jincheng/01.jpg.png" alt=""></p> <p>​</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>- 父进程复制自己的地址空间（fork）创建一个新的（子）进程结构。每个新进程分配一个唯一的进程 ID （PID），满足跟踪安全性之需。PID 和 父进程 ID （<span class="token environment constant">PPID</span>）是子进程环境的元素，任何进程都可以创建子进程，所有进程都是第一个系统进程（systemd）的后代。

- 子进程继承父进程的安全性身份、过去和当前的文件描述符、端口和资源特权、环境变量，以及程序代码。随后，子进程可能exec自己的程序代码。通常，父进程在子进程运行期间处于睡眠（sleeping）状态。当子进程完成时发出（exit）信号请求，在退出时，子进程已经关闭或丢弃了其资源环境，剩余的部分称之为僵停（僵尸Zombie）。父进程在子进程退出时收到信号而被唤醒，清理剩余的结构，然后继续执行其自己的程序码。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2、进程的状态"><a href="#_2、进程的状态" class="header-anchor">#</a> 2、进程的状态</h4> <p><img src="/documents/img/ops/linux/basic/jincheng/02.jpg.png" alt=""></p> <p>​                                  所有程序在排队时排的是内核的使用权</p> <p>CPU:</p> <p>特权（内核态）：调用所有的硬件的操作</p> <p>非特权（用户态）：硬件以外的操作。systemd是用户态的第一个进程</p> <p>由于站的角度不同，对于内核来说是线程，一个进程运行起来可能同时运行（处理）多个线程（任务），所以扔给内核处理时会显示超过CPU Core（核心数）的线程数</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>- 在多任务处理操作系统中，每个CPU（或核心）在一个时间点上只能处理一个进程。在进程运行时，它对CPU 时间和资源分配的要求会不断变化，从而为进程分配一个状态，它随着环境要求而改变。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><table><thead><tr><th style="text-align:left;">状态 (STAT)</th> <th style="text-align:left;">字母</th> <th style="text-align:left;">含义</th> <th style="text-align:left;">是否占用 CPU</th> <th style="text-align:left;">是否可被强制杀死</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>运行/可运行</strong></td> <td style="text-align:left;"><strong>R</strong></td> <td style="text-align:left;">进程正在CPU执行或在队列中等待执行</td> <td style="text-align:left;"><strong>是</strong> (Running)<br><strong>否</strong> (Runnable，但占运行队列)</td> <td style="text-align:left;"><strong>是</strong></td></tr> <tr><td style="text-align:left;"><strong>可中断睡眠</strong></td> <td style="text-align:left;"><strong>S</strong></td> <td style="text-align:left;">等待某个事件完成，睡眠可被中断</td> <td style="text-align:left;"><strong>否</strong></td> <td style="text-align:left;"><strong>是</strong></td></tr> <tr><td style="text-align:left;"><strong>不可中断睡眠</strong></td> <td style="text-align:left;"><strong>D</strong></td> <td style="text-align:left;">等待硬件I/O，睡眠<strong>不可</strong>被中断</td> <td style="text-align:left;"><strong>否</strong></td> <td style="text-align:left;"><strong>否</strong> (即使是<code>kill -9</code>也无效)</td></tr> <tr><td style="text-align:left;"><strong>已停止</strong></td> <td style="text-align:left;"><strong>T</strong></td> <td style="text-align:left;">进程执行被暂停（挂起）</td> <td style="text-align:left;"><strong>否</strong></td> <td style="text-align:left;"><strong>是</strong> (但需先恢复)</td></tr> <tr><td style="text-align:left;"><strong>僵尸进程</strong></td> <td style="text-align:left;"><strong>Z</strong></td> <td style="text-align:left;">进程已终止，但未被父进程“收尸”</td> <td style="text-align:left;"><strong>否</strong></td> <td style="text-align:left;"><strong>否</strong> (已死亡，无法杀死)</td></tr></tbody></table> <h3 id="二、查看进程【静态】"><a href="#二、查看进程【静态】" class="header-anchor">#</a> 二、查看进程【静态】</h3> <h4 id="_1、ps-进程快照"><a href="#_1、ps-进程快照" class="header-anchor">#</a> 1、ps - 进程快照</h4> <p>看到的进程有两种：静态、动态</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux </span>
<span class="token environment constant">USER</span><span class="token builtin class-name">:</span> 			<span class="token variable"><span class="token variable">`</span>运行进程的用户<span class="token variable">`</span></span>
PID:			<span class="token variable"><span class="token variable">`</span>进程ID<span class="token variable">`</span></span>
%CPU:  			<span class="token variable"><span class="token variable">`</span>CPU占用率<span class="token variable">`</span></span>
%MEM: 			<span class="token variable"><span class="token variable">`</span>内存占用率<span class="token variable">`</span></span>
VSZ:			<span class="token variable"><span class="token variable">`</span>占用虚拟内存，虚拟内存用的是硬盘空间，有可能会卡顿延迟的现象<span class="token variable">`</span></span>
RSS:  			<span class="token variable"><span class="token variable">`</span>占用实际内存<span class="token punctuation">(</span>驻留内存<span class="token punctuation">)</span><span class="token variable">`</span></span><span class="token variable"><span class="token variable">`</span>
TTY:			<span class="token variable">`</span></span>进程运行的终端<span class="token variable"><span class="token variable">`</span>

STAT:			<span class="token variable">`</span></span>进程状态<span class="token variable"><span class="token variable">`</span>		
  R 			<span class="token variable">`</span></span>运行<span class="token variable"><span class="token variable">`</span>
  S 			<span class="token variable">`</span></span>可中断睡眠<span class="token variable"><span class="token variable">`</span>
  D				<span class="token variable">`</span></span>不可中断睡眠<span class="token variable"><span class="token variable">`</span>
  T 			<span class="token variable">`</span></span>停止的进程<span class="token variable"><span class="token variable">`</span>
  Z 			<span class="token variable">`</span></span>僵尸进程<span class="token variable"><span class="token variable">`</span>
  X    			<span class="token variable">`</span></span>死掉的进程<span class="token variable"><span class="token variable">`</span>
      
	Ss  		<span class="token variable">`</span></span>s进程的领导者，父进程<span class="token variable"><span class="token variable">`</span>
	S<span class="token operator">&lt;</span> 			<span class="token variable">`</span></span><span class="token operator">&lt;</span>优先级较高的进程<span class="token variable"><span class="token variable">`</span>
	SN  		<span class="token variable">`</span></span>N优先级较低的进程<span class="token variable"><span class="token variable">`</span>
	R+			<span class="token variable">`</span></span>+表示是前台的进程组<span class="token variable"><span class="token variable">`</span>
	Sl			<span class="token variable">`</span></span>以线程的方式运行<span class="token variable"><span class="token variable">`</span>
  
START:			<span class="token variable">`</span></span>进程的启动时间<span class="token variable"><span class="token variable">`</span>
TIME:			<span class="token variable">`</span></span>进程占用CPU的总时间<span class="token variable"><span class="token variable">`</span>
COMMAND			<span class="token variable">`</span></span>进程文件`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>- 进程管理学习环境准备
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl stop nginx</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl disable nginx</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># yum install -y httpd  	# 安装Apache</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl start httpd 	# 启动Apache</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>ps命令必备技巧一：ps aux</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux --sort=-%cpu |head 		# 按CPU占比排序, -表示降序</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux --sort=-%mem |head			# 按内存占比排序</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep httpd</span>
root      <span class="token number">78277</span>  <span class="token number">0.0</span>  <span class="token number">0.2</span> <span class="token number">228316</span>  <span class="token number">2236</span> ?        Ss   <span class="token number">15</span>:19   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">78278</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">230400</span>  <span class="token number">1892</span> ?        S    <span class="token number">15</span>:19   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">78279</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">230400</span>  <span class="token number">1892</span> ?        S    <span class="token number">15</span>:19   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">78280</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">230400</span>  <span class="token number">1892</span> ?        S    <span class="token number">15</span>:19   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">78281</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">230400</span>  <span class="token number">1892</span> ?        S    <span class="token number">15</span>:19   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">78282</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">230400</span>  <span class="token number">1892</span> ?        S    <span class="token number">15</span>:19   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
root      <span class="token number">78862</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112816</span>   <span class="token number">980</span> pts/1    S+   <span class="token number">16</span>:02   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto httpd

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep sshd</span>
root       <span class="token number">2845</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">112900</span>  <span class="token number">1092</span> ?        Ss   <span class="token number">10</span>:15   <span class="token number">0</span>:00 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root       <span class="token number">2860</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">156776</span>  <span class="token number">1676</span> ?        Ss   <span class="token number">10</span>:16   <span class="token number">0</span>:01 sshd: root@pts/1
root      <span class="token number">78872</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112816</span>   <span class="token number">980</span> pts/1    S+   <span class="token number">16</span>:02   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>ps命令必备技巧二：ps -eo 显示自定义字段</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps -eo cmd,pid,ppid,user,%cpu,%mem,stat,start_time |head </span>
CMD                            PID   <span class="token environment constant">PPID</span> <span class="token environment constant">USER</span>     %CPU %MEM STAT START
/usr/lib/systemd/systemd --      <span class="token number">1</span>      <span class="token number">0</span> root      <span class="token number">0.0</span>  <span class="token number">0.3</span> Ss   Jun18
<span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>                       <span class="token number">2</span>      <span class="token number">0</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S    Jun18
<span class="token punctuation">[</span>kworker/0:0H<span class="token punctuation">]</span>                   <span class="token number">4</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S<span class="token operator">&lt;</span>   Jun18
<span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>                    <span class="token number">6</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S    Jun18
<span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span>                    <span class="token number">7</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S    Jun18
<span class="token punctuation">[</span>rcu_bh<span class="token punctuation">]</span>                         <span class="token number">8</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S    Jun18
<span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span>                      <span class="token number">9</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> R    Jun18
<span class="token punctuation">[</span>lru-add-drain<span class="token punctuation">]</span>                 <span class="token number">10</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S<span class="token operator">&lt;</span>   Jun18
<span class="token punctuation">[</span>watchdog/0<span class="token punctuation">]</span>                    <span class="token number">11</span>      <span class="token number">2</span> root      <span class="token number">0.0</span>  <span class="token number">0.0</span> S    Jun1	

<span class="token variable"><span class="token variable">`</span>cmd		进程名<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>pid		进程ID<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>ppid		父进程ID<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>user		运行用户<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>%cpu		CPU使用率<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>%mem		内存使用率<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span><span class="token function">stat</span>		进程状态status<span class="token variable">`</span></span>
<span class="token variable"><span class="token variable">`</span>start_time	进程启动时间<span class="token variable">`</span></span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps -eo cmd,pid,%cpu |head </span>
CMD                            PID %CPU
/usr/lib/systemd/systemd --      <span class="token number">1</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>                       <span class="token number">2</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>kworker/0:0H<span class="token punctuation">]</span>                   <span class="token number">4</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>                    <span class="token number">6</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span>                    <span class="token number">7</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>rcu_bh<span class="token punctuation">]</span>                         <span class="token number">8</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span>                      <span class="token number">9</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>lru-add-drain<span class="token punctuation">]</span>                 <span class="token number">10</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>watchdog/0<span class="token punctuation">]</span>                    <span class="token number">11</span>  <span class="token number">0.0</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps -eo cmd,pid,%cpu --sort=-%cpu |head</span>
CMD                            PID %CPU
/usr/bin/vmtoolsd              <span class="token number">754</span>  <span class="token number">0.1</span>
/usr/bin/gnome-shell         <span class="token number">19907</span>  <span class="token number">0.1</span>
/usr/lib/systemd/systemd --      <span class="token number">1</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>                       <span class="token number">2</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>kworker/0:0H<span class="token punctuation">]</span>                   <span class="token number">4</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>                    <span class="token number">6</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span>                    <span class="token number">7</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>rcu_bh<span class="token punctuation">]</span>                         <span class="token number">8</span>  <span class="token number">0.0</span>
<span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span>                      <span class="token number">9</span>  <span class="token number">0.0</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps -eo cmd,pid,%cpu,%mem --sort=-%mem |head</span>
CMD                            PID %CPU %MEM
/usr/bin/gnome-shell         <span class="token number">19907</span>  <span class="token number">0.1</span>  <span class="token number">7.7</span>
/usr/bin/gnome-software <span class="token parameter variable">--g</span>  <span class="token number">20230</span>  <span class="token number">0.0</span>  <span class="token number">5.3</span>
/usr/bin/X :0 <span class="token parameter variable">-background</span> n  <span class="token number">19412</span>  <span class="token number">0.0</span>  <span class="token number">2.2</span>
/usr/libexec/gnome-terminal  <span class="token number">22279</span>  <span class="token number">0.0</span>  <span class="token number">1.0</span>
/usr/bin/python2 <span class="token parameter variable">-Es</span> /usr/s   <span class="token number">1233</span>  <span class="token number">0.0</span>  <span class="token number">0.9</span>
nautilus-desktop <span class="token parameter variable">--force</span>     <span class="token number">20199</span>  <span class="token number">0.0</span>  <span class="token number">0.8</span>
/usr/sbin/libvirtd            <span class="token number">1243</span>  <span class="token number">0.0</span>  <span class="token number">0.7</span>
/usr/libexec/tracker-store   <span class="token number">20319</span>  <span class="token number">0.0</span>  <span class="token number">0.7</span>
/usr/libexec/gsd-xsettings   <span class="token number">20091</span>  <span class="token number">0.0</span>  <span class="token number">0.6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><h4 id="_2、pstree-进程树"><a href="#_2、pstree-进程树" class="header-anchor">#</a> <strong>2、pstree - 进程树</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># pstree</span>
systemd─┬─NetworkManager─┬─dhclient
        │                └─2*<span class="token punctuation">[</span><span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">]</span>
        ├─VGAuthService
        ├─auditd───<span class="token punctuation">{</span>auditd<span class="token punctuation">}</span>
        ├─chronyd
        ├─crond
        ├─dbus-daemon───<span class="token punctuation">{</span>dbus-daemon<span class="token punctuation">}</span>
        ├─httpd───5*<span class="token punctuation">[</span>httpd<span class="token punctuation">]</span>
        ├─irqbalance
        ├─login───bash
        ├─lvmetad
        ├─master─┬─pickup
        │        └─qmgr
        ├─polkitd───6*<span class="token punctuation">[</span><span class="token punctuation">{</span>polkitd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        ├─rsyslogd───2*<span class="token punctuation">[</span><span class="token punctuation">{</span>rsyslogd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        ├─sshd───sshd───bash───pstree
        ├─systemd-journal
        ├─systemd-logind
        ├─systemd-udevd
        ├─tuned───4*<span class="token punctuation">[</span><span class="token punctuation">{</span>tuned<span class="token punctuation">}</span><span class="token punctuation">]</span>
        └─vmtoolsd───2*<span class="token punctuation">[</span><span class="token punctuation">{</span>vmtoolsd<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># pstree |grep httpd					# 过滤 httpd 进程</span>
        <span class="token operator">|</span>-httpd---5*<span class="token punctuation">[</span>httpd<span class="token punctuation">]</span>								<span class="token comment"># 5*表示5个此名进程</span>
		
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># pstree -p |grep httpd					# 显示带有PID的进程树</span>
           <span class="token operator">|</span>-httpd<span class="token punctuation">(</span><span class="token number">1704</span><span class="token punctuation">)</span>-+-httpd<span class="token punctuation">(</span><span class="token number">1706</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>             <span class="token operator">|</span>-httpd<span class="token punctuation">(</span><span class="token number">1707</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>             <span class="token operator">|</span>-httpd<span class="token punctuation">(</span><span class="token number">1708</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>             <span class="token operator">|</span>-httpd<span class="token punctuation">(</span><span class="token number">1709</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>             `-httpd<span class="token punctuation">(</span><span class="token number">1710</span><span class="token punctuation">)</span>
           					

- 知识点扩展
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># pstree -u tianyun						# 查看tianyun用的进程</span>
No processes found.
           					
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># pstree -ps 1708						# 查看某个进程（PID）的完整父子关系</span>
systemd<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>───httpd<span class="token punctuation">(</span><span class="token number">1704</span><span class="token punctuation">)</span>───httpd<span class="token punctuation">(</span><span class="token number">1708</span><span class="token punctuation">)</span>
 
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># pstree -ps 1704</span>
systemd<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>───httpd<span class="token punctuation">(</span><span class="token number">1704</span><span class="token punctuation">)</span>─┬─httpd<span class="token punctuation">(</span><span class="token number">1706</span><span class="token punctuation">)</span>
                         ├─httpd<span class="token punctuation">(</span><span class="token number">1707</span><span class="token punctuation">)</span>
                         ├─httpd<span class="token punctuation">(</span><span class="token number">1708</span><span class="token punctuation">)</span>
                         ├─httpd<span class="token punctuation">(</span><span class="token number">1709</span><span class="token punctuation">)</span>
                         └─httpd<span class="token punctuation">(</span><span class="token number">1710</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h4 id="_3、-lsof-查看端口占用"><a href="#_3、-lsof-查看端口占用" class="header-anchor">#</a> 3、**lsof - 查看端口占用 **</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># yum -y install lsof</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lsof -i :80				# 查看 80 端口当前被哪个进程占用</span>
COMMAND  PID   <span class="token environment constant">USER</span>   FD   TYPE DEVICE SIZE/OFF NODE NAME
httpd   <span class="token number">1704</span>   root    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1706</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1707</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1708</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1709</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1710</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lsof -i :22				# 查看 22 端口当前被哪个进程占用</span>
COMMAND  PID <span class="token environment constant">USER</span>   FD   TYPE DEVICE SIZE/OFF NODE NAME
sshd    <span class="token number">1136</span> root    3u  IPv4  <span class="token number">21683</span>      0t0  TCP *:ssh <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
sshd    <span class="token number">1136</span> root    4u  IPv6  <span class="token number">21685</span>      0t0  TCP *:ssh <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
sshd    <span class="token number">1620</span> root    3u  IPv4  <span class="token number">25724</span>      0t0  TCP tianyun:ssh-<span class="token operator">&gt;</span>tianyun:57956 <span class="token punctuation">(</span>ESTABLISHED<span class="token punctuation">)</span>

<span class="token comment"># 案例</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># yum -y install nginx</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl start nginx</span>
Job <span class="token keyword">for</span> nginx.service failed because the control process exited with error code. See <span class="token string">&quot;systemctl status nginx.service&quot;</span> and <span class="token string">&quot;journalctl -xe&quot;</span> <span class="token keyword">for</span> details.

Nginx服务启动失败！！！ 提醒查看日志 journalctl <span class="token parameter variable">-xe</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># journalctl -xe</span>
Jul <span class="token number">24</span> <span class="token number">11</span>:43:11 tianyun nginx<span class="token punctuation">[</span><span class="token number">1843</span><span class="token punctuation">]</span>: nginx: <span class="token punctuation">[</span>emerg<span class="token punctuation">]</span> bind<span class="token punctuation">(</span><span class="token punctuation">)</span> to <span class="token number">0.0</span>.0.0:80 failed <span class="token punctuation">(</span><span class="token number">98</span>: Address alread
Jul <span class="token number">24</span> <span class="token number">11</span>:43:11 tianyun nginx<span class="token punctuation">[</span><span class="token number">1843</span><span class="token punctuation">]</span>: nginx: <span class="token punctuation">[</span>emerg<span class="token punctuation">]</span> bind<span class="token punctuation">(</span><span class="token punctuation">)</span> to <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 failed <span class="token punctuation">(</span><span class="token number">98</span>: Address already i
Jul <span class="token number">24</span> <span class="token number">11</span>:43:11 tianyun nginx<span class="token punctuation">[</span><span class="token number">1843</span><span class="token punctuation">]</span>: nginx: <span class="token punctuation">[</span>emerg<span class="token punctuation">]</span> bind<span class="token punctuation">(</span><span class="token punctuation">)</span> to <span class="token number">0.0</span>.0.0:80 failed <span class="token punctuation">(</span><span class="token number">98</span>: Address alread

通过日志发现，80端口被占用。需要找到是哪个进程占用了80端口

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lsof -i :80</span>
COMMAND  PID   <span class="token environment constant">USER</span>   FD   TYPE DEVICE SIZE/OFF NODE NAME
httpd   <span class="token number">1704</span>   root    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1706</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1707</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1708</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1709</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
httpd   <span class="token number">1710</span> apache    4u  IPv6  <span class="token number">24895</span>      0t0  TCP *:http <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl stop httpd				# 停止Apache服务</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl disable httpd			# 设置开机不自动运行</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lsof -i :80						# 再次查看80端口是否被占用，目前未占用</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl start nginx				# 再次启动Nginx服务，正常</span>

作业： 学习lsof命令，例如查看某个打开的文件是被 某个进程使用
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lsof /etc/hosts</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h4 id="_4、netstat-查看监听端口"><a href="#_4、netstat-查看监听端口" class="header-anchor">#</a> 4、netstat - 查看监听端口</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>client -----<span class="token operator">&gt;</span> <span class="token number">192.168</span>.92.148 ???					<span class="token comment"># 不知道要访问什么服务</span>

client <span class="token punctuation">(</span>ssh://<span class="token punctuation">)</span> -----<span class="token operator">&gt;</span> 	<span class="token number">192.168</span>.92.148:22			<span class="token comment"># sshd远程连接服务</span>
client <span class="token punctuation">(</span>http://<span class="token punctuation">)</span> ----<span class="token operator">&gt;</span> 	<span class="token number">192.168</span>.92.148:80			<span class="token comment"># Web服务（Nginx,Apache）</span>
client <span class="token punctuation">(</span>mysql<span class="token punctuation">)</span> 	-----<span class="token operator">&gt;</span> 	<span class="token number">192.168</span>.92.148:3306			<span class="token comment"># MySQL数据库服务</span>
client <span class="token punctuation">(</span>ftp://<span class="token punctuation">)</span> -----<span class="token operator">&gt;</span> 	<span class="token number">192.168</span>.92.148:21			<span class="token comment"># FTP服务</span>

<span class="token comment"># 查看网络进程 和 正在监听（LISTEN）的端口</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnlp    (该命令对应的包名：net-tools)</span>
参数详解：
<span class="token parameter variable">-u</span>  udp传输协议（飞机运输）
<span class="token parameter variable">-t</span>  tcp传输协议（火车运输）
<span class="token parameter variable">-p</span>  显示进程的名称和pid
<span class="token parameter variable">-l</span> 	只显示正在被监听<span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>端口的状态 
<span class="token parameter variable">-a</span> 	显示端口的所有状态<span class="token punctuation">(</span>LISTEN,ESTABLISHED,CLOSED<span class="token punctuation">..</span>.<span class="token punctuation">)</span>
<span class="token parameter variable">-n</span>  不解析don<span class="token string">'t resolve names，例如别将80解析为http

# -anlp 常用# -anlp 常用# -anlp 常用
# -anlp 常用# -anlp 常用# -anlp 常用

# 显示所有监听的端口LISTEN
[root@tianyun ~]# netstat -tnlp
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      1920/nginx: master  
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1136/sshd           
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1309/master         
tcp6       0      0 :::80                   :::*                    LISTEN      1920/nginx: master  
tcp6       0      0 :::22                   :::*                    LISTEN      1136/sshd           
tcp6       0      0 ::1:25                  :::*                    LISTEN      1309/master  

# 显示所有监听的端口LISTEN（未加p，不显示PID和进程名）
[root@tianyun ~]# netstat -tnl
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN     
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN     
tcp6       0      0 :::80                   :::*                    LISTEN     
tcp6       0      0 :::22                   :::*                    LISTEN     
tcp6       0      0 ::1:25                  :::*                    LISTEN 

# 显示所有监听的端口LISTEN（未加n，不解析don'</span>t resolve names，例如不要将80解析为http）
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tlp</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:http            <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1920</span>/nginx: master  
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:ssh             <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1136</span>/sshd           
tcp        <span class="token number">0</span>      <span class="token number">0</span> localhost:smtp          <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1309</span>/master         
tcp6       <span class="token number">0</span>      <span class="token number">0</span> <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:http               <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*                  LISTEN      <span class="token number">1920</span>/nginx: master  
tcp6       <span class="token number">0</span>      <span class="token number">0</span> <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:ssh                <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*                  LISTEN      <span class="token number">1136</span>/sshd           
tcp6       <span class="token number">0</span>      <span class="token number">0</span> localhost:smtp          <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*                  LISTEN      <span class="token number">1309</span>/master  

<span class="token comment"># 显示端口的所有状态（-a）</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnap</span>
Active Internet connections <span class="token punctuation">(</span>servers and established<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1920</span>/nginx: master  
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1136</span>/sshd           
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">127.0</span>.0.1:25            <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1309</span>/master         
tcp        <span class="token number">0</span>     <span class="token number">36</span> <span class="token number">192.168</span>.92.148:22       <span class="token number">192.168</span>.92.1:57956      ESTABLISHED <span class="token number">1620</span>/sshd: root@pts 
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::80                   :::*                    LISTEN      <span class="token number">1920</span>/nginx: master  
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">1136</span>/sshd           
tcp6       <span class="token number">0</span>      <span class="token number">0</span> ::1:25                  :::*                    LISTEN      <span class="token number">1309</span>/master  

- 实用案例：

<span class="token comment"># 查看22号端口是否在监听（LISTEN）</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnlp |grep :22</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1136</span>/sshd           
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">1136</span>/sshd

<span class="token comment"># 查看22号端口的所有状态（LISTEN,ESTABLISHED.....）</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnap |grep :22</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1136</span>/sshd           
tcp        <span class="token number">0</span>     <span class="token number">36</span> <span class="token number">192.168</span>.92.148:22       <span class="token number">192.168</span>.92.1:57956      ESTABLISHED <span class="token number">1620</span>/sshd: root@pts 
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">1136</span>/sshd  

<span class="token comment"># 查看80号端口是否在监听（LISTEN）</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnlp |grep :80</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1920</span>/nginx: master  
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::80                   :::*                    LISTEN      <span class="token number">1920</span>/nginx: master      

<span class="token comment"># 查看80号端口的所有状态（LISTEN,ESTABLISHED.....）</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnap |grep :80</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1920</span>/nginx: master  
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">192.168</span>.92.148:80       <span class="token number">192.168</span>.92.1:56015      ESTABLISHED <span class="token number">1921</span>/nginx: worker  
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">192.168</span>.92.148:80       <span class="token number">192.168</span>.92.1:56011      ESTABLISHED <span class="token number">1921</span>/nginx: worker  
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">192.168</span>.92.148:80       <span class="token number">192.168</span>.92.1:56013      ESTABLISHED <span class="token number">1924</span>/nginx: worker  
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::80                   :::*                    LISTEN      <span class="token number">1920</span>/nginx: master

- 核心需要记住用法：
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnlp</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnlp |grep :22</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnlp |grep :80</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -tnap |grep :22</span>

- ss命令功能和netstat等价
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br></div></div><h4 id="_5、ss-查看监听端口"><a href="#_5、ss-查看监听端口" class="header-anchor">#</a> 5、ss - 查看监听端口</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ss -tnlp</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ss -tnlp |grep :22</span>
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>          *:22       *:*                   users:<span class="token variable"><span class="token punctuation">((</span>&quot;sshd&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">2845</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">))</span></span>
LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:22      <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*                 users:<span class="token variable"><span class="token punctuation">((</span>&quot;sshd&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">2845</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">))</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="三、查看进程【动态】"><a href="#三、查看进程【动态】" class="header-anchor">#</a> 三、查看进程【动态】</h3> <h4 id="_1、top-实时系统监控"><a href="#_1、top-实时系统监控" class="header-anchor">#</a> 1、<strong>top</strong> - 实时系统监控</h4> <p><code>top</code> 界面分为 <strong>顶部汇总信息</strong> 和 <strong>进程列表</strong> 两部分：</p> <p><strong>顶部汇总信息</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>top - 14:30:45 up 10 days,  3:45,  2 users,  load average: 2.94, 4.48, 5.20
Tasks: 120 total,   2 running, 118 sleeping,   0 stopped,   0 zombie
%Cpu(s):  5.3 us,  1.2 sy,  0.0 ni, 93.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem :   7845.2 total,   1024.5 free,   4096.3 used,   2724.4 buff/cache
MiB Swap:   2048.0 total,   2048.0 free,      0.0 used.   3200.2 avail Mem
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p><strong>第 1 行</strong>（系统运行状态）：</p> <ul><li><code>14:30:45</code>：当前时间</li> <li><code>up 10 days, 3:45</code>：系统已运行时间</li> <li><code>2 users</code>:  当前系统登录的用户数</li> <li><code>load average: 2.94, 4.48, 5.20</code>：系统 <strong>1 分钟、5 分钟、15 分钟</strong> 的平均负载（<code>≤ CPU 核心数</code> 表示正常）</li></ul> <p><img src="/documents/img/ops/linux/basic/jincheng/03.jpg.png" alt=""></p></li> <li><p><strong>第 2 行</strong>（任务状态）：</p> <ul><li><code>Tasks: 120 total</code>：总进程数</li> <li><code>2 running</code>：正在运行的进程数</li> <li><code>118 sleeping</code>：休眠的进程数</li> <li><code>0 stopped</code>：停止的进程数</li> <li><code>0 zombie</code>：僵尸进程数（若不为 0，需检查）</li></ul></li> <li><p><strong>第 3 行</strong>（CPU 使用情况）：</p> <ul><li><code>5.3 us</code>：用户空间占用 CPU 百分比</li> <li><code>1.2 sy</code>：内核空间占用 CPU 百分比</li> <li><code>0.0 ni</code>:  修改过优先级进程占用 CPU 百分比</li> <li><code>93.5 id</code>：<strong>空闲 CPU 百分比</strong></li> <li><code>0.0 wa</code>：<strong>I/O 等待占用 CPU 百分比（若高，可能磁盘瓶颈）</strong></li> <li><code>0.0 st</code>：虚拟机偷取时间（仅虚拟化环境）</li></ul></li> <li><p><strong>第 4 行</strong>（内存使用情况）：</p> <ul><li><code>7845.2 total</code>：总内存</li> <li><code>1024.5 free</code>：空闲内存</li> <li><code>4096.3 used</code>：已用内存</li> <li><code>2724.4 buff/cache</code>：缓存/缓冲区内存（可释放）</li></ul></li> <li><p><strong>第 5 行</strong>（交换分区 Swap）：</p> <ul><li><code>2048.0 total</code>：Swap 总大小</li> <li><code>2048.0 free</code>：空闲 Swap</li> <li><code>0.0 used</code>：已用 Swap（若高，可能内存不足）</li></ul></li></ul> <p><strong>进程列表</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
 1234 root      20   0  123456  78912   3456 R   6.2  1.0   5:30.45 firefox
 5678 mysql     20   0  456789 123456  67890 S   3.1  1.5  10:15.30 mysqld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>列名</th> <th>说明</th></tr></thead> <tbody><tr><td><strong>PID</strong></td> <td>进程 ID</td></tr> <tr><td><strong>USER</strong></td> <td>进程所属用户</td></tr> <tr><td><strong>PR</strong></td> <td>进程优先级（值越小优先级越高）</td></tr> <tr><td><strong>NI</strong></td> <td>Nice 值（-20 最高优先级，19 最低）</td></tr> <tr><td><strong>VIRT</strong></td> <td>进程使用的虚拟内存（KB）</td></tr> <tr><td><strong>RES</strong></td> <td>进程使用的物理内存（KB）</td></tr> <tr><td><strong>SHR</strong></td> <td>共享内存大小（KB）</td></tr> <tr><td><strong>S</strong></td> <td>进程状态（<code>R</code>=运行, <code>S</code>=休眠, <code>Z</code>=僵尸, <code>D</code>=不可中断休眠）</td></tr> <tr><td><strong>%CPU</strong></td> <td>进程占用 CPU 百分比</td></tr> <tr><td><strong>%MEM</strong></td> <td>进程占用内存百分比</td></tr> <tr><td><strong>TIME+</strong></td> <td>进程占用 CPU 时间（格式 <code>分:秒.毫秒</code>）</td></tr> <tr><td><strong>COMMAND</strong></td> <td>进程命令名</td></tr></tbody></table> <p><strong><code>top</code> 交互命令</strong></p> <p>在 <code>top</code> 运行时，可以按以下快捷键操作：</p> <table><thead><tr><th>快捷键</th> <th>功能</th></tr></thead> <tbody><tr><td><strong><code>q</code></strong></td> <td>退出 <code>top</code></td></tr> <tr><td><strong><code>k</code></strong></td> <td>杀死进程（输入 PID，再输入信号，默认 <code>15</code>）</td></tr> <tr><td><strong><code>r</code></strong></td> <td>调整进程优先级（输入 PID，再输入 <code>Nice</code> 值）</td></tr> <tr><td><strong><code>P</code></strong></td> <td>按 <strong>CPU 使用率</strong> 排序</td></tr> <tr><td><strong><code>M</code></strong></td> <td>按 <strong>内存使用率</strong> 排序</td></tr> <tr><td><strong><code>T</code></strong></td> <td>按 <strong>CPU 时间</strong> 排序</td></tr> <tr><td><strong><code>1</code></strong></td> <td>显示 <strong>所有 CPU 核心</strong> 的单独使用情况</td></tr> <tr><td><strong><code>h</code></strong></td> <td>显示帮助菜单</td></tr> <tr><td><strong><code>Shift + &gt;</code></strong></td> <td>向右滚动进程列表（查看完整命令）</td></tr> <tr><td><strong><code>Shift + &lt;</code></strong></td> <td>向左滚动进程列表</td></tr> <tr><td><strong><code>z</code></strong></td> <td>切换颜色显示</td></tr> <tr><td><strong><code>W</code></strong></td> <td>保存当前 <code>top</code> 配置到 <code>~/.toprc</code>（下次启动自动加载）</td></tr></tbody></table> <hr> <p><strong><code>top</code> 命令行参数</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top -d 5           					# 设置刷新间隔为 5 秒</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top -p 1234,5678   					# 仅监控 PID 1234 和 5678</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top -u apache       					# 仅显示 apache 用户的进程</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top -b -n 3							# 以批处理模式运行 3 次</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top -b -n 3 &gt; top.log  				# 以批处理模式运行 3 次，输出到文件</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top -u apache -b -n 3 &gt; top.txt		# 批处理模式查看apache用户的进程3次，输出文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2、htop-实时系统监控"><a href="#_2、htop-实时系统监控" class="header-anchor">#</a> 2、<strong>htop</strong> - 实时系统监控</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># yum list htop</span>
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
Available Packages
htop.x86_64            <span class="token number">2.2</span>.0-3.el7                       epel

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># yum -y install htop</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># htop</span>

注：htop软件包由EPEL源提供
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="四、进程控制-kill"><a href="#四、进程控制-kill" class="header-anchor">#</a> 四、进程控制 - kill</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># kill -l   #查看所有信号</span>
 <span class="token number">1</span><span class="token punctuation">)</span> SIGHUP       <span class="token number">2</span><span class="token punctuation">)</span> SIGINT       <span class="token number">3</span><span class="token punctuation">)</span> SIGQUIT      <span class="token number">4</span><span class="token punctuation">)</span> SIGILL       <span class="token number">5</span><span class="token punctuation">)</span> SIGTRAP
 <span class="token number">6</span><span class="token punctuation">)</span> SIGABRT      <span class="token number">7</span><span class="token punctuation">)</span> SIGBUS       <span class="token number">8</span><span class="token punctuation">)</span> SIGFPE       <span class="token number">9</span><span class="token punctuation">)</span> SIGKILL     <span class="token number">10</span><span class="token punctuation">)</span> SIGUSR1
<span class="token number">11</span><span class="token punctuation">)</span> SIGSEGV     <span class="token number">12</span><span class="token punctuation">)</span> SIGUSR2     <span class="token number">13</span><span class="token punctuation">)</span> SIGPIPE     <span class="token number">14</span><span class="token punctuation">)</span> SIGALRM     <span class="token number">15</span><span class="token punctuation">)</span> SIGTERM
<span class="token number">16</span><span class="token punctuation">)</span> SIGSTKFLT   <span class="token number">17</span><span class="token punctuation">)</span> SIGCHLD     <span class="token number">18</span><span class="token punctuation">)</span> SIGCONT     <span class="token number">19</span><span class="token punctuation">)</span> SIGSTOP     <span class="token number">20</span><span class="token punctuation">)</span> SIGTSTP
<span class="token number">21</span><span class="token punctuation">)</span> SIGTTIN     <span class="token number">22</span><span class="token punctuation">)</span> SIGTTOU     <span class="token number">23</span><span class="token punctuation">)</span> SIGURG      <span class="token number">24</span><span class="token punctuation">)</span> SIGXCPU     <span class="token number">25</span><span class="token punctuation">)</span> SIGXFSZ
<span class="token number">26</span><span class="token punctuation">)</span> SIGVTALRM   <span class="token number">27</span><span class="token punctuation">)</span> SIGPROF     <span class="token number">28</span><span class="token punctuation">)</span> SIGWINCH    <span class="token number">29</span><span class="token punctuation">)</span> SIGIO       <span class="token number">30</span><span class="token punctuation">)</span> SIGPWR
<span class="token number">31</span><span class="token punctuation">)</span> SIGSYS      <span class="token number">34</span><span class="token punctuation">)</span> SIGRTMIN    <span class="token number">35</span><span class="token punctuation">)</span> SIGRTMIN+1  <span class="token number">36</span><span class="token punctuation">)</span> SIGRTMIN+2  <span class="token number">37</span><span class="token punctuation">)</span> SIGRTMIN+3
<span class="token number">38</span><span class="token punctuation">)</span> SIGRTMIN+4  <span class="token number">39</span><span class="token punctuation">)</span> SIGRTMIN+5  <span class="token number">40</span><span class="token punctuation">)</span> SIGRTMIN+6  <span class="token number">41</span><span class="token punctuation">)</span> SIGRTMIN+7  <span class="token number">42</span><span class="token punctuation">)</span> SIGRTMIN+8
<span class="token number">43</span><span class="token punctuation">)</span> SIGRTMIN+9  <span class="token number">44</span><span class="token punctuation">)</span> SIGRTMIN+10 <span class="token number">45</span><span class="token punctuation">)</span> SIGRTMIN+11 <span class="token number">46</span><span class="token punctuation">)</span> SIGRTMIN+12 <span class="token number">47</span><span class="token punctuation">)</span> SIGRTMIN+13
<span class="token number">48</span><span class="token punctuation">)</span> SIGRTMIN+14 <span class="token number">49</span><span class="token punctuation">)</span> SIGRTMIN+15 <span class="token number">50</span><span class="token punctuation">)</span> SIGRTMAX-14 <span class="token number">51</span><span class="token punctuation">)</span> SIGRTMAX-13 <span class="token number">52</span><span class="token punctuation">)</span> SIGRTMAX-12
<span class="token number">53</span><span class="token punctuation">)</span> SIGRTMAX-11 <span class="token number">54</span><span class="token punctuation">)</span> SIGRTMAX-10 <span class="token number">55</span><span class="token punctuation">)</span> SIGRTMAX-9  <span class="token number">56</span><span class="token punctuation">)</span> SIGRTMAX-8  <span class="token number">57</span><span class="token punctuation">)</span> SIGRTMAX-7
<span class="token number">58</span><span class="token punctuation">)</span> SIGRTMAX-6  <span class="token number">59</span><span class="token punctuation">)</span> SIGRTMAX-5  <span class="token number">60</span><span class="token punctuation">)</span> SIGRTMAX-4  <span class="token number">61</span><span class="token punctuation">)</span> SIGRTMAX-3  <span class="token number">62</span><span class="token punctuation">)</span> SIGRTMAX-2
<span class="token number">63</span><span class="token punctuation">)</span> SIGRTMAX-1  <span class="token number">64</span><span class="token punctuation">)</span> SIGRTMAX

<span class="token parameter variable">-1</span>   HUP  重新加载reload进程或者重新加载配置文件，PID不变
<span class="token parameter variable">-9</span>   KILL 强制杀死
<span class="token parameter variable">-15</span>  <span class="token environment constant">TERM</span> 正常终止<span class="token punctuation">(</span>这个信号可以默认不写<span class="token punctuation">)</span>

<span class="token parameter variable">-18</span>  CONT 激活进程
<span class="token parameter variable">-19</span>  STOP 挂起（暂停）进程
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="kill案例一"><a href="#kill案例一" class="header-anchor">#</a> <strong>kill案例一</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>以Apache为实验场景，把Nginx关闭

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl stop httpd			# 停止Apache（httpd）服务 相当于信号15</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart httpd		# 重启Apache（httpd）服务</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep httpd			# 查看当前是否启动</span>
root      <span class="token number">38466</span>  <span class="token number">0.1</span>  <span class="token number">0.2</span> <span class="token number">230444</span>  <span class="token number">5232</span> ?        Ss   <span class="token number">11</span>:06   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38471</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3152</span> ?        S    <span class="token number">11</span>:06   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38472</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3152</span> ?        S    <span class="token number">11</span>:06   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38473</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3152</span> ?        S    <span class="token number">11</span>:06   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38474</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3152</span> ?        S    <span class="token number">11</span>:06   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38475</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3152</span> ?        S    <span class="token number">11</span>:06   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># kill -15 38466				# 发送正常的停止信号</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep httpd</span>
root      <span class="token number">38535</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112808</span>   <span class="token number">968</span> pts/1    S+   <span class="token number">11</span>:10   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto httpd


<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl start httpd</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep httpd</span>
root      <span class="token number">38551</span>  <span class="token number">1.0</span>  <span class="token number">0.2</span> <span class="token number">230444</span>  <span class="token number">5228</span> ?        Ss   <span class="token number">11</span>:11   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38555</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3148</span> ?        S    <span class="token number">11</span>:11   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38556</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3148</span> ?        S    <span class="token number">11</span>:11   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38557</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3148</span> ?        S    <span class="token number">11</span>:11   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38558</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3148</span> ?        S    <span class="token number">11</span>:11   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>
apache    <span class="token number">38559</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">232528</span>  <span class="token number">3148</span> ?        S    <span class="token number">11</span>:11   <span class="token number">0</span>:00 /usr/sbin/httpd <span class="token parameter variable">-DFOREGROUND</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># killall httpd					# killall跟进程名，信号15为默认信号</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep httpd</span>
root      <span class="token number">38589</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112808</span>   <span class="token number">968</span> pts/1    R+   <span class="token number">11</span>:12   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto httpd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="kill案例二"><a href="#kill案例二" class="header-anchor">#</a> <strong>kill案例二</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>信号<span class="token environment constant">TERM</span> <span class="token number">15</span>（正常终止）
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/hosts			 	# 打开着，等待接收信号</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep vim</span>
root      <span class="token number">38654</span>  <span class="token number">0.0</span>  <span class="token number">0.2</span> <span class="token number">149300</span>  <span class="token number">5040</span> pts/0    S+   <span class="token number">11</span>:15   <span class="token number">0</span>:00 <span class="token function">vim</span> /etc/hosts
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># kill -15 38654				</span>
发送信号后，观察vim变化

信号KILL <span class="token number">9</span>（强制终止）
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/hosts			 	# 重新打开，等待接收信号</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep vim</span>
root      <span class="token number">38732</span>  <span class="token number">0.0</span>  <span class="token number">0.2</span> <span class="token number">149300</span>  <span class="token number">5060</span> pts/0    S+   <span class="token number">11</span>:20   <span class="token number">0</span>:00 <span class="token function">vim</span> /etc/hosts
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># kill -9 38732</span>
发送信号后，观察vim变化
Found a awap <span class="token function">file</span> by the name <span class="token string">&quot;/etc/.hosts.swp&quot;</span>	 <span class="token comment"># 产生了交换文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="五、其它命令"><a href="#五、其它命令" class="header-anchor">#</a> 五、其它命令</h3> <h4 id="_1-查看当前cpu负载"><a href="#_1-查看当前cpu负载" class="header-anchor">#</a> <strong>1. 查看当前CPU负载</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># uptime </span>
 <span class="token number">17</span>:35:01 up <span class="token number">16</span>:02,  <span class="token number">3</span> users,  load average: <span class="token number">0.00</span>, <span class="token number">0.02</span>, <span class="token number">0.05</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-查看内存使用"><a href="#_2-查看内存使用" class="header-anchor">#</a> <strong>2. 查看内存使用</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># free -m</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1819</span>         <span class="token number">858</span>         <span class="token number">156</span>          <span class="token number">21</span>         <span class="token number">804</span>         <span class="token number">768</span>
Swap:          <span class="token number">2047</span>          <span class="token number">16</span>        <span class="token number">2031</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># free -h</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1</span>.8G        858M        156M         21M        804M        768M
Swap:          <span class="token number">2</span>.0G         16M        <span class="token number">2</span>.0G
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_3-查看系统的版本和内核"><a href="#_3-查看系统的版本和内核" class="header-anchor">#</a> <strong>3. 查看系统的版本和内核</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/redhat-release  	#查看操作系统版本</span>
CentOS Linux release <span class="token number">7.4</span>.1708 <span class="token punctuation">(</span>Core<span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># uname -r  				#查看内核版本</span>
<span class="token number">3.10</span>.0-1160.el7.x86_64
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_4-查看cpu相关信息"><a href="#_4-查看cpu相关信息" class="header-anchor">#</a> <strong>4. 查看CPU相关信息</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lscpu 					# 查看cpu相关信息</span>
Architecture:          x86_64
CPU op-mode<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:        <span class="token number">32</span>-bit, <span class="token number">64</span>-bit
Byte Order:            Little Endian
CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:                <span class="token number">32</span>					<span class="token comment"># CPU总的数量</span>
On-line CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span> list:   <span class="token number">0</span>-31
Thread<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per core:    <span class="token number">2</span>					<span class="token comment"># 每个核心的线程数</span>
Core<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per socket:    <span class="token number">8</span>					<span class="token comment"># 每个物理CPU的核数</span>
Socket<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:             <span class="token number">2</span>					<span class="token comment"># 物理CPU的数量</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># nproc						# 统计CPU的数量</span>
<span class="token number">32</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>查看服务器CPU架构
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># lscpu</span>
Architecture:          x86_64

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># uname -m</span>
x86_64

<span class="token comment"># 输出示例：</span>
x86_64    <span class="token comment"># 表示x86_64架构</span>
aarch64   <span class="token comment"># 表示ARM64架构</span>
ppc64le   <span class="token comment"># 表示POWER架构</span>

https://www.centos.org		
CentOS-Stream-9-latest-x86_64-dvd1.iso			<span class="token comment"># X86_64架构镜像</span>
CentOS-Stream-9-latest-aarch64-dvd1.iso			<span class="token comment"># ARM架构镜像</span>

https://ubuntu.com

注：CPU架构影响到系统镜像ISO文件的选择，以及软件包的选择
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="六、作业管理-job"><a href="#六、作业管理-job" class="header-anchor">#</a> 六、作业管理 - job</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 案例I</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/hosts 					# ^Z将其暂停到后台</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+  Stopped                 <span class="token function">vim</span> top.txt
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep vim					# T状态表示STOP</span>
root      <span class="token number">41099</span>  <span class="token number">0.0</span>  <span class="token number">0.2</span> <span class="token number">149316</span>  <span class="token number">5068</span> pts/1    T    <span class="token number">14</span>:43   <span class="token number">0</span>:00 <span class="token function">vim</span> top.txt
root      <span class="token number">41101</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112808</span>   <span class="token number">964</span> pts/1    S+   <span class="token number">14</span>:43   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">vim</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># date								# 模拟做了一些其它的工作</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># fg								# 将其调回到前台</span>

<span class="token comment"># 案例II</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># vim yangge.txt					# ^Z将其暂停到后台</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># top								# ^Z将其暂停到后台</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># jobs 								# 查看后台作业</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>-  Stopped                 <span class="token function">vim</span> yang
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>+  Stopped                 <span class="token function">top</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># fg								# 将最新的一个作业调回到前台(top)</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># fg 1								# 将作业号1的进程调回到前台(vim)，也可以fg %1</span>

<span class="token comment"># 案例III</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># sleep 5000						# 默认为前台运行，^Z将其暂停到后台</span>
^Z
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+  Stopped                 <span class="token function">sleep</span> <span class="token number">5000</span>		
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep sleep				# sleep进程在后台目前为停止状态 T</span>
root      <span class="token number">16161</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">108052</span>   <span class="token number">352</span> pts/0    T    09:38   <span class="token number">0</span>:00 <span class="token function">sleep</span> <span class="token number">5000</span>
root      <span class="token number">16165</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112808</span>   <span class="token number">964</span> pts/0    S+   09:39   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">sleep</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># bg 1								# 让作业号为1的进程，在后台运行</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+ <span class="token function">sleep</span> <span class="token number">5000</span> <span class="token operator">&amp;</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># jobs 			</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+  Running                 <span class="token function">sleep</span> <span class="token number">5000</span> <span class="token operator">&amp;</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep sleep</span>
root      <span class="token number">16161</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">108052</span>   <span class="token number">352</span> pts/0    S    09:38   <span class="token number">0</span>:00 <span class="token function">sleep</span> <span class="token number">5000</span>
root      <span class="token number">16167</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112808</span>   <span class="token number">964</span> pts/0    S+   09:40   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">sleep</span>

<span class="token comment"># 案例IV</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># sleep 6000 &amp;						# 一启动，就注定在后台运行</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">16168</span>											<span class="token comment"># 1为作业号，16168为PID</span>

<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># jobs</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+  Running                 <span class="token function">sleep</span> <span class="token number">6000</span> <span class="token operator">&amp;</span>


- 其它扩展
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># kill 16168						# 使用PID杀（发信号）</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># kill %1							# 使用作业号杀（发信号），kill 1表示PID为1的进程</span>
<span class="token punctuation">[</span>root@tianyun ~<span class="token punctuation">]</span><span class="token comment"># jobs</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+  Terminated              <span class="token function">sleep</span> <span class="token number">6000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h3 id="七、扩展知识-常用协议及对应端口"><a href="#七、扩展知识-常用协议及对应端口" class="header-anchor">#</a> <strong>七、扩展知识-常用协议及对应端口</strong></h3> <hr> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/etc/services
<span class="token number">0</span>-1023: 知名端口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_1-基础网络协议【重点关注】"><a href="#_1-基础网络协议【重点关注】" class="header-anchor">#</a> <strong>1. 基础网络协议【重点关注】</strong></h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>说明</th> <th>典型应用</th></tr></thead> <tbody><tr><td><strong>HTTP</strong></td> <td>80</td> <td>超文本传输协议</td> <td>网页浏览</td></tr> <tr><td><strong>HTTPS</strong></td> <td>443</td> <td>加密的HTTP</td> <td>安全网页/API</td></tr> <tr><td><strong>FTP</strong></td> <td>20/21</td> <td>文件传输协议（数据/控制）</td> <td>文件上传下载</td></tr> <tr><td><strong>SSH</strong></td> <td>22</td> <td>安全Shell协议</td> <td>远程管理服务器</td></tr></tbody></table> <h4 id="_2-邮件协议"><a href="#_2-邮件协议" class="header-anchor">#</a> <strong>2. 邮件协议</strong></h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>说明</th></tr></thead> <tbody><tr><td><strong>SMTP</strong></td> <td>25</td> <td>邮件发送协议（明文）</td></tr> <tr><td><strong>SMTPS</strong></td> <td>465</td> <td>加密的SMTP</td></tr> <tr><td><strong>POP3</strong></td> <td>110</td> <td>邮件接收协议（明文）</td></tr> <tr><td><strong>POP3S</strong></td> <td>995</td> <td>加密的POP3</td></tr> <tr><td><strong>IMAP</strong></td> <td>143</td> <td>高级邮件接收协议（明文）</td></tr> <tr><td><strong>IMAPS</strong></td> <td>993</td> <td>加密的IMAP</td></tr></tbody></table> <h4 id="_3-数据库协议【mysql-redis】"><a href="#_3-数据库协议【mysql-redis】" class="header-anchor">#</a> 3. 数据库协议【MySQL-Redis】</h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>对应数据库</th></tr></thead> <tbody><tr><td><strong>MySQL</strong></td> <td>3306</td> <td>MySQL/MariaDB</td></tr> <tr><td><strong>PostgreSQL</strong></td> <td>5432</td> <td>PostgreSQL</td></tr> <tr><td><strong>Redis</strong></td> <td>6379</td> <td>Redis</td></tr> <tr><td><strong>MongoDB</strong></td> <td>27017</td> <td>MongoDB</td></tr> <tr><td><strong>Oracle</strong></td> <td>1521</td> <td>Oracle Database【IBM公司付费产品】</td></tr> <tr><td><strong>SQL Server</strong></td> <td>1433</td> <td>Microsoft SQL Server【微软公司付费产品】</td></tr></tbody></table> <hr> <h4 id="_4-远程访问协议"><a href="#_4-远程访问协议" class="header-anchor">#</a> <strong>4. 远程访问协议</strong></h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>安全级别</th></tr></thead> <tbody><tr><td><strong>RDP</strong></td> <td>3389</td> <td>Windows远程桌面（建议改端口）</td></tr> <tr><td><strong>VNC</strong></td> <td>5900+</td> <td>图形化远程控制（通常加密）</td></tr> <tr><td><strong>TeamViewer</strong></td> <td>5938</td> <td>第三方远程工具</td></tr> <tr><td><strong>向日葵远程控制</strong></td> <td></td> <td></td></tr></tbody></table> <h4 id="_5-文件共享协议【了解】"><a href="#_5-文件共享协议【了解】" class="header-anchor">#</a> 5. 文件共享协议【了解】</h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>说明</th></tr></thead> <tbody><tr><td><strong>SMB</strong></td> <td>445</td> <td>Windows文件共享</td></tr> <tr><td><strong>NFS</strong></td> <td>2049</td> <td>Linux文件共享</td></tr> <tr><td><strong>Rsync</strong></td> <td>873</td> <td>增量文件同步</td></tr></tbody></table> <hr> <h4 id="_6-网络安全协议"><a href="#_6-网络安全协议" class="header-anchor">#</a> 6. 网络安全协议</h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>用途</th></tr></thead> <tbody><tr><td><strong>IPSec</strong></td> <td>500/4500</td> <td>VPN加密通道</td></tr> <tr><td><strong>OpenVPN</strong></td> <td>1194</td> <td>开源VPN（建议改端口）</td></tr> <tr><td><strong>WireGuard</strong></td> <td>51820</td> <td>现代轻量VPN</td></tr></tbody></table> <hr> <h4 id="_7-监控与管理协议"><a href="#_7-监控与管理协议" class="header-anchor">#</a> 7. 监控与管理协议</h4> <table><thead><tr><th>协议</th> <th>端口</th> <th>工具</th></tr></thead> <tbody><tr><td><strong>SNMP</strong></td> <td>161/162</td> <td>网络设备监控</td></tr> <tr><td><strong>Prometheus</strong></td> <td>9090</td> <td>指标采集</td></tr> <tr><td><strong>Grafana</strong></td> <td>3000</td> <td>数据可视化</td></tr></tbody></table> <p><img src="/documents/img/ops/linux/basic/jincheng/01.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/02.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/03.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/04.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/05.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/06.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/07.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/08.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/09.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/10.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/11.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/12.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/13.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/14.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/15.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/16.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/17.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/18.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/19.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/20.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/21.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/22.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/23.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/24.png" alt=""> <img src="/documents/img/ops/linux/basic/jincheng/26.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documents/study_notes/ops/linux/basic/15自定义YUM仓库.html" class="prev">
        自定义YUM仓库
      </a></span> <span class="next"><a href="/documents/study_notes/ops/linux/basic/17进程管理 练习.html">
        Linux 基础运维实战练习题：进程管理篇
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/documents/assets/js/app.fb883db5.js" defer></script><script src="/documents/assets/js/2.e8bd7cca.js" defer></script><script src="/documents/assets/js/1.40c64e62.js" defer></script><script src="/documents/assets/js/64.98cbd251.js" defer></script>
  </body>
</html>
