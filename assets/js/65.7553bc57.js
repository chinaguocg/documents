(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{349:function(v,_,e){"use strict";e.r(_);var t=e(10),o=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"linux-基础运维实战练习题-进程管理篇"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#linux-基础运维实战练习题-进程管理篇"}},[v._v("#")]),v._v(" Linux 基础运维实战练习题：进程管理篇")]),v._v(" "),_("p",[_("strong",[v._v("一、基础入门题（进程查询与识别）")])]),v._v(" "),_("ol",[_("li",[v._v("写出查询当前系统中 "),_("strong",[v._v("所有运行进程")]),v._v(" 的 3 种不同命令（要求输出格式不同）。")]),v._v(" "),_("li",[v._v("查找进程名为 "),_("code",[v._v("sshd")]),v._v(" 的所有进程，要求显示进程 PID、父进程 PID（PPID）、进程状态（STAT）、启动时间（STIME）。")]),v._v(" "),_("li",[v._v("查找由用户 "),_("code",[v._v("root")]),v._v(" 启动的所有进程，并按 "),_("strong",[v._v("CPU 使用率降序排序")]),v._v("。")]),v._v(" "),_("li",[v._v("统计当前系统中处于 "),_("strong",[v._v("运行状态（R 状态）")]),v._v(" 的进程总数。")]),v._v(" "),_("li",[v._v("查看 PID 为 1 的进程（init/systemd）的详细信息（包括进程启动命令、占用资源、所属用户等）。")])]),v._v(" "),_("p",[_("strong",[v._v("二、进阶操作题（进程状态控制）")])]),v._v(" "),_("ol",{attrs:{start:"6"}},[_("li",[v._v("启动一个后台进程（执行 "),_("code",[v._v("sleep 3600")]),v._v("，让进程休眠 1 小时），要求：")])]),v._v(" "),_("p",[v._v("- 直接在后台运行，不占用当前终端；")]),v._v(" "),_("p",[v._v("- 查看该后台进程的 PID 和状态；")]),v._v(" "),_("p",[v._v("- 用两种不同命令将其终止。")]),v._v(" "),_("ol",{attrs:{start:"7"}},[_("li",[v._v("现有一个前台运行的 "),_("code",[v._v("top")]),v._v(" 进程（占用终端），请完成：")])]),v._v(" "),_("p",[v._v("- 将其暂停（挂起）并放回后台；")]),v._v(" "),_("p",[v._v("- 查看后台挂起的进程列表；")]),v._v(" "),_("p",[v._v("- 将该挂起的 "),_("code",[v._v("top")]),v._v(" 进程恢复到前台运行；")]),v._v(" "),_("p",[v._v("- 不关闭 "),_("code",[v._v("top")]),v._v(" 进程的前提下，切换回终端执行其他命令。")]),v._v(" "),_("ol",{attrs:{start:"8"}},[_("li",[v._v("批量终止所有名称包含 "),_("code",[v._v("java")]),v._v(" 的进程（要求安全终止，优先发送 "),_("code",[v._v("SIGTERM")]),v._v(" 信号，而非强制杀死）。")]),v._v(" "),_("li",[v._v("强制终止一个处于 "),_("strong",[v._v("僵尸状态（Z 状态）")]),v._v(" 的进程（PID 假设为 1234），写出完整命令并说明原理。")]),v._v(" "),_("li",[v._v("启动 "),_("code",[v._v("vim test.txt")]),v._v(" 后不小心关闭了终端，导致进程变成“孤儿进程”，如何找到并终止该进程？")])]),v._v(" "),_("p",[_("strong",[v._v("三、深度应用题（优先级与监控）")])]),v._v(" "),_("ol",{attrs:{start:"11"}},[_("li",[v._v("调整进程 PID 为 5678 的优先级：")])]),v._v(" "),_("p",[v._v("- 查看该进程当前的静态优先级（nice 值）和动态优先级（pri 值）；")]),v._v(" "),_("p",[v._v("- 将其 nice 值设置为 -5（要求用两种命令实现："),_("code",[v._v("nice")]),v._v(" 和 "),_("code",[v._v("renice")]),v._v("）；")]),v._v(" "),_("p",[v._v("- 验证优先级调整是否生效。")]),v._v(" "),_("ol",{attrs:{start:"12"}},[_("li",[v._v("编写一个简单的 Shell 脚本，实现：")])]),v._v(" "),_("p",[v._v("- 后台运行 "),_("code",[v._v("ping baidu.com -i 2")]),v._v("（每 2 秒 ping 一次）；")]),v._v(" "),_("p",[v._v("- 记录该进程的 PID 到文件 "),_("code",[v._v("ping.pid")]),v._v("；")]),v._v(" "),_("p",[v._v("- 10 秒后自动终止该 ping 进程（通过读取 "),_("code",[v._v("ping.pid")]),v._v(" 中的 PID 实现）。")]),v._v(" "),_("ol",{attrs:{start:"13"}},[_("li",[v._v("用 "),_("code",[v._v("ps")]),v._v(" 结合管道命令，筛选出 "),_("strong",[v._v("内存占用前 5 的进程")]),v._v("，要求输出格式为："),_("code",[v._v("PID %MEM COMMAND")]),v._v("（仅显示这三列）。")]),v._v(" "),_("li",[v._v("用 "),_("code",[v._v("htop")]),v._v("（需提前安装）监控进程，完成：")])]),v._v(" "),_("p",[v._v("- 按 CPU 使用率排序进程；")]),v._v(" "),_("p",[v._v("- 筛选出用户 "),_("code",[v._v("nginx")]),v._v(" 所属的所有进程；")]),v._v(" "),_("p",[v._v("- 直接在 "),_("code",[v._v("htop")]),v._v(" 界面中终止一个占用 CPU 过高的 "),_("code",[v._v("nginx")]),v._v(" 进程。")]),v._v(" "),_("ol",{attrs:{start:"15"}},[_("li",[v._v("分析场景：CentOS 系统中，"),_("code",[v._v("httpd")]),v._v(" 进程频繁占用 90% 以上 CPU，如何排查并临时解决该问题？（要求步骤清晰，包括进程查询、状态分析、临时处理方案）。")])]),v._v(" "),_("p",[_("strong",[v._v("解题提示")])]),v._v(" "),_("p",[_("strong",[v._v("一、基础题提示")])]),v._v(" "),_("ol",[_("li",[_("code",[v._v("ps aux")]),v._v("（BSD 格式）、"),_("code",[v._v("ps -ef")]),v._v("（System V 格式）、"),_("code",[v._v("pstree")]),v._v("（树形结构）；")]),v._v(" "),_("li",[_("code",[v._v("ps -ef | grep sshd")]),v._v(" 或 "),_("code",[v._v("ps aux | grep sshd")]),v._v("，结合 "),_("code",[v._v("awk")]),v._v(" 筛选列："),_("code",[v._v("ps aux | grep sshd | awk '{print $2, $3, $8, $9}'")]),v._v("；")]),v._v(" "),_("li",[_("code",[v._v("ps -u root --sort=-%cpu")]),v._v("；")]),v._v(" "),_("li",[_("code",[v._v("ps aux | grep -c ' R '")]),v._v("（注意 R 前后空格，避免匹配其他状态）；")]),v._v(" "),_("li",[_("code",[v._v("ps -p 1 -f")]),v._v("（详细格式）或 "),_("code",[v._v("systemctl status systemd")])])]),v._v(" "),_("p",[_("img",{attrs:{src:"/documents/img/ops/linux/basic/jincheng/25.png",alt:""}})]),v._v(" "),_("p",[_("strong",[v._v("二、进阶题提示")])]),v._v(" "),_("ol",{attrs:{start:"6"}},[_("li",[v._v("后台运行："),_("code",[v._v("sleep 3600 &")]),v._v("；查看："),_("code",[v._v("jobs")]),v._v(" 或 "),_("code",[v._v("ps aux | grep sleep")]),v._v("；终止："),_("code",[v._v("kill PID")]),v._v(" 或 "),_("code",[v._v("pkill -f sleep")]),v._v("；")]),v._v(" "),_("li",[v._v("暂停："),_("code",[v._v("Ctrl + Z")]),v._v("；查看后台："),_("code",[v._v("jobs")]),v._v("；恢复前台："),_("code",[v._v("fg %1")]),v._v("（%1 为 jobs 列表中的序号）；临时切换终端："),_("code",[v._v("bg %1")]),v._v(" 后直接输入命令；")]),v._v(" "),_("li",[_("code",[v._v("pkill -15 java")]),v._v("（15 对应 SIGTERM 信号）或 "),_("code",[v._v("killall -s TERM java")]),v._v("；")]),v._v(" "),_("li",[v._v("僵尸进程无法直接杀死，需杀死其父进程："),_("code",[v._v("ps -ef | grep 1234")]),v._v(" 找到 PPID，再 "),_("code",[v._v("kill -9 PPID")]),v._v("；")]),v._v(" "),_("li",[v._v("查找孤儿进程（PPID 为 1）："),_("code",[v._v("ps aux | grep -E 'vim|test.txt' | grep -v grep")]),v._v("，找到后 "),_("code",[v._v("kill PID")]),v._v("。")])]),v._v(" "),_("p",[_("strong",[v._v("三、深度题提示")])]),v._v(" "),_("ol",{attrs:{start:"11"}},[_("li",[v._v("查看优先级："),_("code",[v._v("ps -p 5678 -o nice,pri")]),v._v("；调整："),_("code",[v._v("renice -n -5 5678")]),v._v(" 或 "),_("code",[v._v("nice -n -5 命令")]),v._v("（需重新启动进程）；验证："),_("code",[v._v("ps -p 5678 -o nice,pri")]),v._v("；")]),v._v(" "),_("li",[v._v("脚本示例：（不用做！）")])]),v._v(" "),_("p",[v._v("#!/bin/bash")]),v._v(" "),_("p",[v._v("ping baidu.com -i 2 &")]),v._v(" "),_("p",[v._v("echo $! > ping.pid # $! 表示最后一个后台进程的 PID")]),v._v(" "),_("p",[v._v("sleep 10")]),v._v(" "),_("p",[v._v("kill $(cat ping.pid)")]),v._v(" "),_("p",[v._v('echo "Ping 进程已终止"')]),v._v(" "),_("ol",{attrs:{start:"13"}},[_("li",[_("code",[v._v("ps aux --sort=-%mem | awk '{print $2, $4, $11}' | head -n 6")]),v._v("（head -n 6 是因为第一行是标题）；")]),v._v(" "),_("li",[v._v("htop 操作：F6 选择排序字段（CPU%），F4 输入筛选条件 "),_("code",[v._v("nginx")]),v._v("，选中进程按 F9 选择 "),_("code",[v._v("SIGKILL")]),v._v(" 终止；")]),v._v(" "),_("li",[v._v("排查步骤：① "),_("code",[v._v("top")]),v._v(" 或 "),_("code",[v._v("ps aux | grep httpd")]),v._v(" 确认进程 PID 和占用情况；② "),_("code",[v._v("strace -p PID")]),v._v(" 查看进程系统调用（是否卡IO）；③ "),_("code",[v._v("netstat -anp | grep httpd")]),v._v(" 查看连接数（是否遭攻击）；④ 临时解决："),_("code",[v._v("kill -15 PID")]),v._v(" 重启进程，或 "),_("code",[v._v("systemctl restart httpd")])])])])}),[],!1,null,null,null);_.default=o.exports}}]);