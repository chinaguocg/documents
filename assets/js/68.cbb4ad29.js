(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{352:function(n,s,a){"use strict";a.r(s);var e=a(10),t=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"nginx-关于负载均衡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx-关于负载均衡"}},[n._v("#")]),n._v(" Nginx-关于负载均衡")]),n._v(" "),s("p",[n._v("在控制负载均衡的机器上的配置文件中添加 "),s("code",[n._v("upstream")]),n._v(" 块 并设置负载均衡策略")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",target:"_blank",rel:"noopener noreferrer"}},[n._v("负载均衡"),s("OutboundLink")],1)]),n._v(" "),s("p",[n._v("重点配置如下")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("[root@node3 ~]# cd /etc/nginx\n\n[root@node3 nginx]# cat nginx.conf\nhttp {\n    upstream backend {\n        server node1  weight=2;\n        server node2  weight=7;\n    }\n    server {\n        location  / {\n            proxy_pass http://backend;\n        }\n    }\n}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br")])]),s("p",[n._v("关于 "),s("code",[n._v("httpd")]),n._v(" 安装")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("[root@node1 nginx]# yum install httpd\n\n[root@node1 ~]# systemctl start httpd\n\n[root@node1 ~]# vim /var/www/html/index.html\n\n[root@node1 ~]# systemctl start firewalld\n[root@node1 ~]# firewall-cmd --permanent --zone=public --add-service=http\nsuccess\n[root@node1 ~]# firewall-cmd --reload\nsuccess\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);